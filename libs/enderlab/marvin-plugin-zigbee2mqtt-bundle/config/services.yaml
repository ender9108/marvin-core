parameters:
    plugin_reference: 'zigbee2mqtt'
    plugin_requirements:
        - mqtt
    mqtt_host: '%env(MQTT_HOST)%'
    mqtt_port: '%env(MQTT_PORT)%'
    mqtt_user: '%env(MQTT_USER)%'
    mqtt_password: '%env(MQTT_PASSWORD)%'
    mqtt_client_id: '%env(MQTT_CLIENT_ID)%'
    mqtt_version: '%env(MQTT_VERSION)%'
    mqtt_base_topic: 'zigbee2mqtt2marvin'
    exclude_topics:
        - 'zigbee2mqtt2marvin/bridge/definitions'
        - 'zigbee2mqtt2marvin/bridge/extensions'
    commands:
        docker_build: "docker compose build zigbee2mqtt"
        docker_start: "docker compose up -d zigbee2mqtt"
        docker_stop: "docker compose down zigbee2mqtt"
        docker_restart: "docker compose restart zigbee2mqtt"
        docker_update: "docker compose pull zigbee2mqtt"

services:
    _defaults:
        autowire: true      # Automatically injects dependencies in your services.
        autoconfigure: true # Automatically registers your services as commands, event subscribers, etc.

    EnderLab\Zigbee2mqttBundle\:
        resource: '../src/'
        exclude:
            - '../src/Infrastructure/Framework/Symfony/DependencyInjection/*'
            - '../src/Domain/Model/*'
            - '../src/Domain/ValueObject/*'
